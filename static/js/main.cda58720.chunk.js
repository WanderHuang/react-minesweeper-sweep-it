(window["webpackJsonpreact-minesweeper"]=window["webpackJsonpreact-minesweeper"]||[]).push([[0],{19:function(e,t,n){e.exports=n(30)},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),c=n.n(i),o=n(8),l=n(6),u=n(18),s=n.n(u),m="CHANGE_LEVEL",v="CHANGE_MATRIX",f="CHANGE_STATUS",d="INIT_MATRIX",p="CHANGE_CLOCK_STATUS",h="CHANGE_ANIMATION_STATUS",E=[{baseCount:8,mineCount:10},{baseCount:15,mineCount:25},{baseCount:16,mineCount:40},{baseCount:20,mineCount:80}],b=0,C=1,O=2,y=3,g=4,j=0,k=1,M=2,A=3,N=4,_=5,S=1,I=1,G={GAME_EASY:{content:"\ud83d\ude00",description:"Easy"},GAME_MEDIUM:{content:"\ud83d\ude03",description:"Medium"},GAME_HARD:{content:"\ud83d\ude05",description:"Hard"},GAME_SUPER:{content:"\ud83d\ude28",description:"Super"},INFO_LEVEL_CHOICE:{content:"\ud83c\udfb2",description:"Level choice"},INFO_LEVEL:{content:"\ud83c\udf21\ufe0f",description:"Current Level"},INFO_GAME_STATUS:{content:"\ud83d\udd79\ufe0f",description:"Game Status"},INFO_GAME_BLOCK:{content:"\u2b1b",description:"Blocks"},INFO_CLOCK:{content:"\ud83d\udd52",description:"time(s)"},MONKEY:{content:"\ud83d\ude48",description:"Monkey see nothing"},FLAG:{content:"\u26f3",description:"Flagged Block"},MINE:{content:"\ud83d\udca3",description:"Mine"},GAME_FAILED:{content:"\u2620\ufe0f",description:"Game Over"},GAME_PLAYING:{content:"\ud83c\udfae",description:"On Game"},GAME_PAUSED:{content:"\u23f8\ufe0f",description:"Paused"},GAME_IDLE:{content:"\ud83d\udca4",description:"Idle"},GAME_SUCCESS:{content:"\ud83d\ude4c",description:"Game Success"}},w="#000000",F="#00CCFF",L="#00CC33",x="#FF9966",D="#0000FF",U="#9900FF",R="#CC0099",T="#000099",B="#FF0000",P=[{backgroundImage:"linear-gradient(-20deg, #e9defa 0%, #fbfcdb 100%)"},{animation:"transition-bg 10s infinite reverse"}],H=function(e,t,n){var a=E[n].baseCount,r=t.rowIndex,i=t.colIndex,c=[];return r>0&&c.push(e[r-1][i]),r<a-1&&c.push(e[r+1][i]),i>0&&c.push(e[r][i-1]),i<a-1&&c.push(e[r][i+1]),r>0&&i>0&&c.push(e[r-1][i-1]),r>0&&i<a-1&&c.push(e[r-1][i+1]),r<a-1&&i<a-1&&c.push(e[r+1][i+1]),r<a-1&&i>0&&c.push(e[r+1][i-1]),c},K=function(e){var t=0,n=0;return e.forEach(function(e){e.forEach(function(e){e.status===b&&t++,e.status===g&&n++})}),{notRevealed:t,flagged:n}},Y=function(e){return function(e,t){return e.forEach(function(n){n.forEach(function(n){n.isMine||H(e,n,t).forEach(function(e){e.isMine&&n.value++})})}),e}(function(e,t){for(var n=E[t],a=n.baseCount,r=n.mineCount,i=[],c=function(){var e=Math.random()*a|0,t=Math.random()*a|0;i.findIndex(function(n){return n.x===e&&n.y===t})<0&&i.push({x:e,y:t})};i.length<r;)c();for(var o=0;o<r;o++){var l=i[o],u=l.x,s=l.y;e[u][s].isMine=!0}return e}(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=E[e].baseCount,n=[],a=0;a<t;a++){for(var r=[],i=0;i<t;i++)r.push({rowIndex:a,colIndex:i,status:b,isMine:!1,value:0});n.push(r)}return n}(e),e),e)},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y(S),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.payload;case d:return Y(t.payload);default:return e}},V=S,W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return t.payload;default:return e}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.payload;default:return e}},X=function(e){return{notRevealed:Math.pow(E[e].baseCount,2),flagged:0}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X(0),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return K(t.payload);default:return e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.payload;default:return e}},Q=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return t.payload;default:return e}},Z=Object(o.c)({matrix:J,level:W,gameStatus:z,mine:$,clockStatus:q,animationStatus:Q}),ee=(n(28),n(1)),te=n(2),ne=n(5),ae=n(3),re=n(4),ie=(n(29),function(e){function t(){return Object(ee.a)(this,t),Object(ne.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(re.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.title,a=e.emoji,i=e.css,c=e.onClick;return a&&(t=a.content,n=a.description),r.a.createElement("span",{className:"title "+i,style:{cursor:c?"pointer":"default"},role:"img","aria-label":"flag",title:n,onClick:c},t)}}]),t}(r.a.Component));function ce(e){return{type:v,payload:e}}function oe(e){return{type:d,payload:e}}function le(e){return{type:f,payload:e}}var ue=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)if(e[t][n].status===b)return!1;return!0},se=function(e,t,n,a){var r=t.rowIndex,i=t.colIndex,c=t.status,o=t.isMine,l=t.value,u=JSON.parse(JSON.stringify(e)),s=c;if(a)switch(c){case b:s=g;break;case g:s=b}else if(c===b){if(!o&&0===l)return ve(u,t,n);if(o)return fe(u);s=O}return u[r][i]={rowIndex:r,colIndex:i,status:s,isMine:o,value:l},u},me=function(e){var t=e.status,n=e.value,a=e.isMine;return t===b&&0===n&&!a},ve=function e(t,n,a){if(H(t,n,a).forEach(function(n){var r=n.status,i=n.value;me(n)&&(n.status=C,e(t,n,a)),r===b&&0!==i&&(n.status=O)}),me(n)){var r=n.rowIndex,i=n.colIndex;n.status=C,t[r][i].status=C}return t},fe=function(e){return e.forEach(function(e){e.forEach(function(e){e.isMine?e.status=y:e.value>0?e.status=O:0===e.value&&(e.status=C)})}),e},de=function(e){function t(){return Object(ee.a)(this,t),Object(ne.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(re.a)(t,e),Object(te.a)(t,[{key:"renderColorfulContent",value:function(e,t){switch(t||(t=Number(e)),t){case 0:return w;case 1:return F;case 2:return L;case 3:return x;case 4:return D;case 5:return U;case 6:return R;case 7:return T;case 8:return B;default:return w}}},{key:"render",value:function(){var e=this.props.content;return r.a.createElement("span",{style:{color:this.renderColorfulContent(e),fontWeight:500}},e)}}]),t}(r.a.Component),pe=function(e){function t(){return Object(ee.a)(this,t),Object(ne.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(re.a)(t,e),Object(te.a)(t,[{key:"renderCellContent",value:function(e){var t=e.status,n=e.isMine,a=e.value;switch(t){case b:return r.a.createElement("div",{className:"block"});case C:return r.a.createElement("div",{className:"revealed-block"},r.a.createElement(ie,{emoji:G.MONKEY}));case O:return r.a.createElement("div",{className:"revealed-block"},r.a.createElement(de,{content:a}));case y:return r.a.createElement("div",{className:"revealed-block"},n?r.a.createElement(ie,{emoji:G.MINE}):r.a.createElement(ie,{emoji:G.MONKEY}));case g:return r.a.createElement("div",{className:"block"},r.a.createElement(ie,{emoji:G.FLAG}));default:return r.a.createElement("div",null)}}},{key:"_reveal",value:function(e){e.preventDefault();var t=this.props;(0,t.blockRevealed)(t.cell,t.matrix,t.level,t.gameStatus)}},{key:"_flag",value:function(e){e.preventDefault();var t=this.props;(0,t.blockFlagged)(t.cell,t.matrix,t.level,t.gameStatus)}},{key:"render",value:function(){var e=this.props.cell;return r.a.createElement("div",{className:"cell",onClick:this._reveal.bind(this),onContextMenu:this._flag.bind(this)},this.renderCellContent(e))}}]),t}(r.a.Component),he=Object(l.b)(function(e){return e},function(e,t){return{blockRevealed:function(t,n,a,r){if(r!==M&&r!==_&&r!==N&&t.status!==g){r===j&&e(le(k));var i=se(n,t,a);t.isMine?e(le(N)):ue(i)&&e(le(_)),e(ce(i))}},blockFlagged:function(t,n,a,r){if(r!==M&&r!==_&&r!==N){r===j&&e(le(k));var i=se(n,t,a,!0);ue(i)&&e(le(_)),e(ce(i))}}}})(pe),Ee=function(e){function t(){return Object(ee.a)(this,t),Object(ne.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(re.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){var e=this.props.row;return r.a.createElement("div",{className:"row"},e.map(function(e,t){return r.a.createElement(he,{cell:e,key:t})}))}}]),t}(r.a.Component),be=function(e){function t(){return Object(ee.a)(this,t),Object(ne.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(re.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){var e=this.props,t=e.matrix,n=e.level;return r.a.createElement("div",{className:"matrix",style:{fontSize:[18,16,14,12][n]+"px"}},t.map(function(e,t){return r.a.createElement(Ee,{row:e,key:t})}))}}]),t}(r.a.Component),Ce=Object(l.b)(function(e){return{matrix:e.matrix,level:e.level}})(be),Oe=function(e){function t(e){var n;return Object(ee.a)(this,t),(n=Object(ne.a)(this,Object(ae.a)(t).call(this,e))).state={time:0},n}return Object(re.a)(t,e),Object(te.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval(function(){e.props.clockStatus===I&&e.setState({time:e.state.time+1})},1e3)}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"resetClock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setState({time:e})}},{key:"render",value:function(){var e=this.state.time;return r.a.createElement("div",{className:"line"},r.a.createElement(ie,{emoji:G.INFO_CLOCK}),r.a.createElement("span",null,e," s"))}}]),t}(r.a.Component),ye=Object(l.b)(function(e){var t=0;switch(e.gameStatus){case A:case k:t=1;break;default:t=0}return{clockStatus:t}},null,null,{forwardRef:!0})(Oe),ge=function(e){function t(e){var n;return Object(ee.a)(this,t),(n=Object(ne.a)(this,Object(ae.a)(t).call(this,e))).refClock=r.a.createRef(),n}return Object(re.a)(t,e),Object(te.a)(t,[{key:"_levelChangeEvent",value:function(e){e.preventDefault(),(0,this.props.levelChange)(e)}},{key:"_levelClickEvent",value:function(e){e.preventDefault();var t=this.props,n=t.level+1;(0,t.levelChange)({target:{value:n=n>3?0:n}})}},{key:"_restart",value:function(e){e.preventDefault();var t=this.props,n=t.level;(0,t.restart)(n),this.refClock.current.resetClock(0)}},{key:"_pause",value:function(e){e.preventDefault();var t=this.props,n=t.gameStatus;(0,t.pause)(n)}},{key:"_toggleAnimation",value:function(e){e.preventDefault();var t=this.props;(0,t.toggleAnimation)(t.animationStatus)}},{key:"renderGameStatus",value:function(e){switch(e){case j:return G.GAME_IDLE;case M:return G.GAME_PAUSED;case N:return G.GAME_FAILED;case _:return G.GAME_SUCCESS;case k:case A:default:return G.GAME_PLAYING}}},{key:"renderPauseButtonContent",value:function(e){switch(e){case M:return"Continue";default:return"Pause"}}},{key:"renderAnimationButtonContent",value:function(e){return e?"Static":"Dynamic"}},{key:"renderLevelEmoji",value:function(e){return[G.GAME_EASY,G.GAME_MEDIUM,G.GAME_HARD,G.GAME_SUPER][e]}},{key:"render",value:function(){var e=this.props,t=e.level,n=e.gameStatus,a=e.mine,i=e.animationStatus;return r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"line"},r.a.createElement(ie,{emoji:G.INFO_LEVEL}),r.a.createElement(ie,{emoji:this.renderLevelEmoji(t),onClick:this._levelClickEvent.bind(this),css:"content-right"})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"line"},r.a.createElement(ie,{emoji:G.INFO_GAME_BLOCK}),r.a.createElement("span",null,a.notRevealed)),r.a.createElement("div",{className:"line"},r.a.createElement(ie,{emoji:G.FLAG}),r.a.createElement("span",null,a.flagged)),r.a.createElement("div",{className:"line"},r.a.createElement(ie,{emoji:G.MINE}),r.a.createElement("span",null,E[t].mineCount))),r.a.createElement("div",{className:"line"},r.a.createElement(ie,{emoji:G.INFO_GAME_STATUS}),r.a.createElement(ie,{emoji:this.renderGameStatus(n),css:"content-right"})),r.a.createElement(ye,{ref:this.refClock}),r.a.createElement("div",{className:"line"},r.a.createElement("button",{className:"animation",onClick:this._toggleAnimation.bind(this)},this.renderAnimationButtonContent(i)),r.a.createElement("button",{className:"pause",onClick:this._pause.bind(this)},this.renderPauseButtonContent(n)),r.a.createElement("button",{className:"restart",onClick:this._restart.bind(this)},"Restart")))}}]),t}(r.a.Component),je=Object(l.b)(function(e){return e},function(e){return{levelChange:function(t){var n=t.target,a=Number(n.value);e({type:m,payload:a}),e(oe(a)),e(le(j))},restart:function(t){e(oe(t)),e(le(k))},pause:function(t){t===M&&e(le(A)),t!==A&&t!==k||e(le(M))},toggleAnimation:function(t){e({type:h,payload:!t})}}})(ge),ke=function(e){function t(){return Object(ee.a)(this,t),Object(ne.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(re.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"board"},r.a.createElement(je,null),r.a.createElement("div",{className:"zone"},r.a.createElement(Ce,null)),r.a.createElement("section",null,r.a.createElement("div",{className:"line"},r.a.createElement("span",null,"Description:")),r.a.createElement("div",{className:"line"},r.a.createElement("span",null,"* "),r.a.createElement("span",null,"Click "),r.a.createElement(ie,{emoji:G.GAME_MEDIUM}),r.a.createElement("span",null," can change the degree of difficulty"))))}}]),t}(r.a.Component),Me=function(e){function t(){return Object(ee.a)(this,t),Object(ne.a)(this,Object(ae.a)(t).apply(this,arguments))}return Object(re.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){var e=this.props.animationStatus?1:0;return r.a.createElement("div",{className:"app",style:P[e]},r.a.createElement("h1",null,"Minesweeper: Sweep it, Bro!"),r.a.createElement(ke,null))}}]),t}(r.a.Component),Ae=Object(l.b)(function(e){return{animationStatus:e.animationStatus}})(Me);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ne=Object(o.d)(Z,Object(o.a)(s.a));c.a.render(r.a.createElement(l.a,{store:Ne},r.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.cda58720.chunk.js.map